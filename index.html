<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>HBD Kuku ‚ù§Ô∏è</title>
<style>
  :root{
    --bg:#0e0e10;
    --accent:#ff5e62;
    --accent2:#ffd56b;
    --glass: rgba(255,255,255,0.10);
    --glass-border: rgba(255,255,255,0.28);
    --text:#fff;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--text);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;
    background:#0b0b0c; overflow:hidden; padding-bottom: env(safe-area-inset-bottom);
  }

  /* Gradient mesh bg */
  .mesh{
    position:fixed; inset:0; z-index:0;
    background:
      radial-gradient(50vmax 50vmax at 10% 20%, rgba(255,94,98,0.35), transparent 60%),
      radial-gradient(45vmax 45vmax at 90% 10%, rgba(108,241,255,0.28), transparent 60%),
      radial-gradient(55vmax 55vmax at 50% 100%, rgba(255,153,102,0.30), transparent 60%),
      linear-gradient(180deg, #0f0f11, #101012 40%, #0d0d0f);
    filter:saturate(118%);
    animation: hue 18s ease-in-out infinite alternate;
  }
  @keyframes hue{to{filter:hue-rotate(10deg) saturate(130%)}}

  /* Canvas layers */
  canvas.bg, canvas.confetti{position:fixed; inset:0; pointer-events:none}
  canvas.bg{z-index:1}
  canvas.confetti{z-index:7}

  /* Container */
  .wrap{
    position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:5; padding: clamp(10px, 4vw, 28px);
  }
  .card{
    width:min(980px, 100%);
    height:min(92vh, 740px);
    background:var(--glass);
    border:1px solid var(--glass-border);
    border-radius: clamp(14px, 3vw, 24px);
    backdrop-filter: blur(14px) saturate(120%);
    -webkit-backdrop-filter: blur(14px) saturate(120%);
    box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.08);
    overflow:hidden; position:relative;
  }

  /* Header */
  .bar{
    position:absolute; inset:0 auto auto 0; right:0; height:56px; display:flex; align-items:center; justify-content:space-between; padding:0 clamp(10px,3vw,16px);
    background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.02));
    border-bottom:1px solid rgba(255,255,255,0.22);
  }
  .title{font-weight:700; letter-spacing:.2px; color:#fff; font-size: clamp(16px, 3.8vw, 20px);}
  .actions{display:flex; gap: clamp(6px,2vw,10px)}
  #audioBtn{
    padding: clamp(8px, 2.6vw, 10px) clamp(12px, 4vw, 16px);
    font-size: clamp(13px, 3.6vw, 15px);
    background:var(--accent); color:#fff; border:none; border-radius:10px; cursor:pointer;
  }
  #tapHint{display:inline-block; font-size: clamp(11px, 3.2vw, 12px); padding:6px 10px; border-radius:9px; background:rgba(0,0,0,.35)}

  /* Layout: mobile-first (stacked) */
  .main{position:absolute; inset:56px 0 0 0; display:flex; flex-direction:column; height:calc(100% - 56px);}
  .pane{flex:1; position:relative; min-height:0}
  .left{border-bottom:1px solid rgba(255,255,255,0.18)}
  .right{padding: clamp(12px, 4vw, 22px)}

  /* At >= 900px, split view */
  @media (min-width: 900px){
    .main{display:grid; grid-template-columns: 1.05fr 0.95fr;}
    .left{border-bottom:none; border-right:1px solid rgba(255,255,255,0.18)}
  }

  /* Quiz */
  .quiz{
    position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; padding: clamp(12px, 5vw, 26px); gap: clamp(12px, 3vw, 18px);
    background: rgba(0,0,0,0.20);
    text-align:center;
  }
  .quiz h2{
    margin:0;
    font-size: clamp(22px, 6.6vw, 32px);
    background: linear-gradient(90deg, #fff, #ffd56b, #ff9966);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  }
  .q{font-size: clamp(15px, 4.8vw, 18px); opacity:0.95}
  .btns{display:flex; gap: clamp(10px, 4vw, 16px); margin-top:6px; position:relative}
  .yes,.no{
    padding: clamp(10px, 3.8vw, 12px) clamp(14px, 6vw, 18px);
    border-radius:14px; border:1px solid rgba(255,255,255,0.3);
    background: rgba(255,255,255,0.10); color:#fff; font-size: clamp(14px, 4.2vw, 16px); cursor:pointer;
    transition: transform .15s ease, background .2s ease, box-shadow .2s ease;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
  }
  .yes:hover{transform:translateY(-1px); background:rgba(255,94,98,0.35); box-shadow:0 10px 24px rgba(255,94,98,0.25)}
  .no.running{position:absolute}
  .seal{font-size: clamp(11px, 3.4vw, 13px); opacity:0.85}

  .success{display:none; flex-direction:column; align-items:center; gap:6px}
  .success.show{display:flex}
  .success h3{margin:6px 0 0; font-size: clamp(18px, 5vw, 24px)}
  .success p{margin:0; opacity:0.92; font-size: clamp(13px, 4vw, 15px)}

  /* Slideshow */
  #slideshow{position:absolute; inset:0; opacity:0; pointer-events:none; transition:opacity .7s ease}
  #slideshow.show{opacity:1; pointer-events:auto}
  #slideshow .slide{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; opacity:0; transition:opacity 1s ease}
  #slideshow .slide.active{opacity:1}
  .prev,.next{
    cursor:pointer; position:absolute; top:50%; transform:translateY(-50%); padding:8px 10px; color:white;
    font-size: clamp(26px, 6.5vw, 34px); background:rgba(0,0,0,0.35); border-radius:10px; user-select:none; z-index:2;
  }
  .prev{left:10px} .next{right:10px}
  .prev:hover,.next:hover{background:rgba(0,0,0,0.55)}

  /* Personal message */
  .note{
    margin-top: clamp(8px, 3vw, 14px); padding: clamp(12px, 4vw, 18px); border-radius:16px;
    background: rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.22);
    font-size: clamp(14px, 4.4vw, 16px); line-height: 1.55;
  }
  .note strong{font-size: clamp(14px, 4.2vw, 16px)}

  /* Typewriter */
  #message{margin-top: clamp(10px, 4vw, 16px); font-size: clamp(16px, 4.8vw, 20px)}
  .typewriter span{
    background:linear-gradient(90deg,#ff5e62,#ff9966,#ffd56b);
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  }

  /* Balloons (SVG) */
  .balloons{position:absolute; top:64px; left:0; right:0; display:flex; justify-content:center; gap: clamp(10px, 6vw, 30px); z-index:2; opacity:0.92; pointer-events:none}
  .balloon{width: clamp(46px, 18vw, 90px); animation: floatY 5.5s ease-in-out infinite; filter: drop-shadow(0 6px 8px rgba(0,0,0,.25))}
  .balloon:nth-child(2){animation-delay: .8s} .balloon:nth-child(3){animation-delay: 1.5s}
  @keyframes floatY{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

  /* Cake (CSS) */
  .cakeBox{position:absolute; bottom: clamp(10px, 4vw, 16px); left:50%; transform: translateX(-50%); z-index:2}
  .cake{
    width: clamp(140px, 52vw, 220px); height: clamp(120px, 38vw, 180px); position:relative;
  }
  .layer{
    width:100%; height:33%; background: #e3a953; border-radius: 10px; position:absolute; left:0;
    box-shadow: inset 0 -8px 0 rgba(255,255,255,0.15);
  }
  .layer.bottom{bottom:0}
  .layer.middle{bottom:33%; transform: scale(.88); left:6%}
  .layer.top{bottom:66%; transform: scale(.76); left:12%}
  .candle{
    position:absolute; bottom: calc(66% + 18px); left:50%; transform:translateX(-50%);
    width: clamp(10px, 3vw, 14px); height: clamp(38px, 12vw, 48px);
    background: repeating-linear-gradient(45deg, #fd3018 0, #fd3018 6px, #ffa89e 6px, #ffa89e 12px);
    border-radius: 6px;
  }
  .flame{
    position:absolute; top:-18px; left:50%; transform: translateX(-50%); width: clamp(10px, 3vw, 14px); height: clamp(16px, 5vw, 20px);
    background: radial-gradient(ellipse at center, #ffd56b 0%, #ff5e62 70%, rgba(255,94,98,0.4) 100%);
    border-radius: 50% 50% 50% 50%;
    animation: flicker .22s infinite alternate;
    filter: blur(.3px);
  }
  @keyframes flicker{from{transform:translateX(-50%) scale(1)} to{transform:translateX(-50%) scale(1.07)}}

  /* Hearts */
  .heart{position:absolute;width:18px;height:18px;background:#ff3257;transform:rotate(45deg);opacity:0.85;z-index:4}
  .heart::before,.heart::after{content:"";position:absolute;width:18px;height:18px;background:#ff3257;border-radius:50%}
  .heart::before{top:-9px;left:0} .heart::after{left:9px;top:0}
  @keyframes floatHeart{0%{transform:translate(0,0) rotate(45deg);opacity:.9}50%{opacity:1}100%{transform:translate(0,-520px) rotate(45deg);opacity:0}}
</style>
</head>
<body>
<div class="mesh"></div>
<canvas id="bgCanvas" class="bg"></canvas>
<canvas id="confettiCanvas" class="confetti"></canvas>

<div class="wrap">
  <div class="card">
    <div class="bar">
      <div class="title">HBD Kuku ‚ù§Ô∏è</div>
      <div class="actions">
        <button id="audioBtn" aria-pressed="false">Play music</button>
        <span id="tapHint">Tap play if muted</span>
      </div>
    </div>

    <div class="main">
      <div class="pane left">
        <!-- Balloons -->
        <div class="balloons" aria-hidden="true">
          <svg class="balloon" viewBox="0 0 64 96" fill="none"><ellipse cx="32" cy="30" rx="28" ry="30" fill="#ff5e62"/><path d="M32 60 L32 96" stroke="#884444" stroke-width="2"/><circle cx="32" cy="60" r="6" fill="#ff5e62"/></svg>
          <svg class="balloon" viewBox="0 0 64 96" fill="none"><ellipse cx="32" cy="30" rx="28" ry="30" fill="#6cf1ff"/><path d="M32 60 L32 96" stroke="#446e88" stroke-width="2"/><circle cx="32" cy="60" r="6" fill="#6cf1ff"/></svg>
          <svg class="balloon" viewBox="0 0 64 96" fill="none"><ellipse cx="32" cy="30" rx="28" ry="30" fill="#ffd56b"/><path d="M32 60 L32 96" stroke="#887844" stroke-width="2"/><circle cx="32" cy="60" r="6" fill="#ffd56b"/></svg>
        </div>

        <!-- Quiz -->
        <div class="quiz" id="quiz">
          <h2>Quick quiz for you ‚ú®</h2>
          <div class="q">Kya tumhe mujhse <span style="color:#ffd56b">pyaar</span> hai? üòâ</div>
          <div class="btns">
            <button class="yes" id="yesBtn">Yes, always! üíñ</button>
            <button class="no" id="noBtn" aria-disabled="true">No</button>
          </div>
          <div class="seal">No select hi nahi hoga‚Ä¶ destiny says only ‚ÄúYes‚Äù üòÑ</div>

          <div class="success" id="successBox">
            <h3>Yay! ü•∞</h3>
            <p>Ab chalo yaadon ki gallery dekhte hain‚Ä¶ confetti time! üéâ</p>
          </div>
        </div>

        <!-- Slideshow -->
        <div id="slideshow" aria-label="Slideshow">
          <span class="prev" aria-label="Previous">&#10094;</span>
          <span class="next" aria-label="Next">&#10095;</span>
          <img src="pic1.jpg" class="slide active" alt="Slide 1">
          <img src="pic2.jpg" class="slide" alt="Slide 2">
          <img src="pic3.jpg" class="slide" alt="Slide 3">
          <img src="pic4.jpg" class="slide" alt="Slide 4">
          <img src="pic5.jpg" class="slide" alt="Slide 5">
          <img src="pic6.jpg" class="slide" alt="Slide 6">
        </div>

        <!-- Cake -->
        <div class="cakeBox" aria-hidden="true">
          <div class="cake">
            <div class="layer top"></div>
            <div class="layer middle"></div>
            <div class="layer bottom"></div>
            <div class="candle"><div class="flame"></div></div>
          </div>
        </div>
      </div>

      <div class="pane right">
        <div class="note">
          <strong>Personal message:</strong>
          <p id="personalNote">
            "Happiest birthDay my jaanu janeman this day is so special for me bcz that day best thing comes on the earth that's you ab main zyada sabdo main to ky khu but my feelings for you is very genuine and you know how much I love youuu  one thing I wanna says that gile sikve to chlte rahenge but my felling for you never change aur plz dhayan Rakha kr apna khud ke liye na shi mere liye he"
          </p>
        </div>
        <div id="message" class="typewriter"></div>

        <!-- Audio -->
        <audio id="myAudio" preload="auto" loop>
          <source src="aud.mp3" type="audio/mpeg">
        </audio>
      </div>
    </div>
  </div>
</div>

<script>
/* Mobile-friendly background particles */
(function(){
  const canvas = document.getElementById('bgCanvas');
  const ctx = canvas.getContext('2d');
  let w, h;
  function resize(){ w = canvas.width = innerWidth; h = canvas.height = innerHeight; }
  addEventListener('resize', resize, {passive:true}); resize();
  const colors = ['#ff5e62','#ff9966','#ffd56b','#6cf1ff','#d06bff'];
  const N = innerWidth < 480 ? 70 : 110;
  const dots = Array.from({length: N}, ()=> ({
    x: Math.random()*w, y: Math.random()*h, r: 0.9 + Math.random()*1.6,
    vx: -0.3 + Math.random()*0.6, vy: -0.3 + Math.random()*0.6,
    c: colors[(Math.random()*colors.length)|0], a: 0.12 + Math.random()*0.22
  }));
  function tick(){
    ctx.clearRect(0,0,w,h);
    for(const d of dots){
      d.x += d.vx; d.y += d.vy;
      if(d.x<0) d.x=w; else if(d.x>w) d.x=0;
      if(d.y<0) d.y=h; else if(d.y>h) d.y=0;
      ctx.beginPath(); ctx.arc(d.x,d.y,d.r,0,Math.PI*2);
      ctx.fillStyle = d.c; ctx.globalAlpha = d.a; ctx.fill();
    }
    ctx.globalAlpha = 1;
    requestAnimationFrame(tick);
  }
  tick();
})();

/* Only-Yes Quiz */
(function(){
  const quiz = document.getElementById('quiz');
  const yes = document.getElementById('yesBtn');
  const no = document.getElementById('noBtn');
  const success = document.getElementById('successBox');
  const slideshow = document.getElementById('slideshow');

  function moveNo(){
    no.classList.add('running');
    const rect = quiz.getBoundingClientRect();
    const nx = Math.random()*(rect.width-90);
    const ny = Math.random()*(rect.height-50);
    no.style.left = nx+'px';
    no.style.top = ny+'px';
  }
  no.addEventListener('pointerover', moveNo);
  no.addEventListener('pointerdown', moveNo);
  no.addEventListener('click', e => e.preventDefault());

  yes.addEventListener('click', ()=>{
    success.classList.add('show');
    quiz.style.animation = 'fadeOut .6s ease forwards';
    setTimeout(()=>{
      quiz.style.display='none';
      slideshow.classList.add('show');
      shootConfettiBurst();
    }, 650);
  });

  const style = document.createElement('style');
  style.textContent='@keyframes fadeOut{to{opacity:0; transform:scale(0.98)}}';
  document.head.appendChild(style);
})();

/* Slideshow */
(function(){
  const slides = Array.from(document.querySelectorAll('#slideshow .slide'));
  const prevBtn = document.querySelector('#slideshow .prev');
  const nextBtn = document.querySelector('#slideshow .next');
  let idx=0, timer=null, AUTO=4200;
  function show(i){ slides[idx].classList.remove('active'); idx=(i+slides.length)%slides.length; slides[idx].classList.add('active'); }
  function next(){ show(idx+1); pauseAuto(); }
  function prev(){ show(idx-1); pauseAuto(); }
  function startAuto(){ stopAuto(); timer=setInterval(()=>show(idx+1), AUTO); }
  function stopAuto(){ if(timer){ clearInterval(timer); timer=null; } }
  function pauseAuto(){ stopAuto(); setTimeout(startAuto, 6000); }
  prevBtn.addEventListener('click', prev); nextBtn.addEventListener('click', next);
  window.addEventListener('keydown', e=>{ if(e.key==='ArrowRight') next(); if(e.key==='ArrowLeft') prev(); });
  const obs=new MutationObserver(()=>{ if(document.getElementById('slideshow').classList.contains('show')){ startAuto(); obs.disconnect(); }});
  obs.observe(document.getElementById('slideshow'), {attributes:true});
})();

/* Typewriter */
(function(){
  const el = document.getElementById('message');
  const lines = [
    "Happy Birthday, KAKULüòò! ‚ù§Ô∏è",
    "Tumhari muskaan meri sabse pyaari cheez hai.",
    "Aaj, kal, hamesha‚Äîlots of love and surprises.",
    "Chalo, hamari yaadon ki kahani dekhte hain.",
    "Happiest birthDay my jaanu janeman... feelings are genuine, love you always. Gile-sikve chalte rahenge, feelings kabhi nahi badlenge. Dhyan rakhna‚Äîmere liye bhi. üíñ"
  ];
  const colored = s => `<span>${s}</span>`;
  const seq = lines.map(colored);
  const speed=34, hold=1400;
  let iLine=0, iChar=0;
  function typeLine(){
    if(iLine>=seq.length) return;
    const html = seq[iLine];
    const textOnly = html.replace(/<[^>]+>/g,'');
    const visible = textOnly.slice(0,iChar);
    el.innerHTML = `<span>${visible}</span>`;
    if(iChar<textOnly.length){ iChar++; setTimeout(typeLine, speed); }
    else { iLine++; iChar=0; setTimeout(typeLine, hold); }
  }
  typeLine();
})();

/* Confetti */
const confettiCanvas = document.getElementById('confettiCanvas');
const cctx = confettiCanvas.getContext('2d');
function resizeConfetti(){ confettiCanvas.width = innerWidth; confettiCanvas.height = innerHeight; }
addEventListener('resize', resizeConfetti, {passive:true}); resizeConfetti();
let confettiPieces=[];
function stepConfetti(){
  cctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  for(const p of confettiPieces){
    p.y += p.vy; p.x += p.vx; p.r += 0.05;
    if(p.y > confettiCanvas.height + 40) p.y = -20;
    if(p.x < -20) p.x = confettiCanvas.width + 20;
    if(p.x > confettiCanvas.width + 20) p.x = -20;
    cctx.save(); cctx.translate(p.x,p.y); cctx.rotate(p.r);
    cctx.fillStyle = ['#ff5e62','#ffd56b','#6cf1ff','#d06bff','#ffffff'][(Math.random()*5)|0];
    cctx.fillRect(-p.w/2,-p.h/2,p.w,p.h); cctx.restore();
  }
  requestAnimationFrame(stepConfetti);
}
function shootConfettiBurst(){
  const n = innerWidth < 480 ? 80 : 120;
  for(let i=0;i<n;i++){
    confettiPieces.push({
      x: confettiCanvas.width/2 + (Math.random()*200-100),
      y: confettiCanvas.height/2 + (Math.random()*60-30),
      w: 6 + Math.random()*10, h: 8 + Math.random()*12,
      r: Math.random()*Math.PI, vy: 2 + Math.random()*4, vx: -4 + Math.random()*8
    });
  }
  if(confettiPieces.length===n) stepConfetti();
}

/* Floating Hearts */
(function(){
  function spawnHeart(){
    const h = document.createElement('div');
    h.className = 'heart';
    const size = 12 + Math.random()*16;
    h.style.width = size+'px'; h.style.height = size+'px';
    h.style.left = (Math.random()*100)+'vw'; h.style.bottom = '-30px';
    h.style.animation = `floatHeart ${4 + Math.random()*4}s linear forwards`;
    document.body.appendChild(h);
    setTimeout(()=> h.remove(), 9000);
  }
  setInterval(spawnHeart, 800);
})();

/* Audio control (autoplay policy-safe) */
(function(){
  const audio = document.getElementById('myAudio');
  const btn = document.getElementById('audioBtn');
  const hint = document.getElementById('tapHint');
  function setBtn(playing){
    btn.textContent = playing ? 'Pause music' : 'Play music';
    btn.setAttribute('aria-pressed', playing ? 'true' : 'false');
    hint.style.display = playing ? 'none' : 'inline-block';
  }
  btn.addEventListener('click', async ()=>{
    try{ if(audio.paused){ await audio.play(); setBtn(true); } else { audio.pause(); setBtn(false); } }
    catch(e){ setBtn(false); }
  });
  const prime = async ()=>{ try{ await audio.play(); setBtn(true); }catch(e){} removeEventListener('pointerdown', prime); removeEventListener('keydown', prime); };
  addEventListener('pointerdown', prime, {once:true});
  addEventListener('keydown', prime, {once:true});
})();
</script>
</body>
</html>
