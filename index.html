<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Happiest Birthday moti üíó</title>
<style>
  :root{
    --bg:#0d0a0d; --text:#fff; --accent:#ff3b81; --accent2:#ff7bb3; --accent3:#ffc1d9;
    --glass: rgba(255,255,255,0.10); --glass-border: rgba(255,255,255,0.28);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0; color:var(--text); background:#0b080c; overflow:hidden;
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Noto Sans", "Helvetica Neue", sans-serif;}
  .mesh{position:fixed; inset:0; z-index:0;
    background:
      radial-gradient(50vmax 50vmax at 10% 20%, rgba(255,59,129,0.35), transparent 60%),
      radial-gradient(45vmax 45vmax at 90% 10%, rgba(255,123,179,0.28), transparent 60%),
      radial-gradient(55vmax 55vmax at 50% 100%, rgba(255,193,217,0.30), transparent 60%),
      linear-gradient(180deg, #140e14, #120d12 40%, #0f0a10);
    animation:hue 18s ease-in-out infinite alternate; filter:saturate(118%); pointer-events:none;}
  @keyframes hue{to{filter:hue-rotate(6deg) saturate(130%)}}
  canvas.bg,canvas.confetti{position:fixed; inset:0; pointer-events:none}
  canvas.bg{z-index:1} canvas.confetti{z-index:10}

  .wrap{position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:5; padding: clamp(10px, 4vw, 28px);}
  .card{width:min(980px,100%); height:min(92vh, 780px); background:var(--glass);
    border:1px solid var(--glass-border); border-radius: clamp(14px, 3vw, 24px);
    backdrop-filter: blur(14px) saturate(120%); -webkit-backdrop-filter: blur(14px) saturate(120%);
    box-shadow: 0 10px 30px rgba(0,0,0,0.35), inset 0 0 0 1px rgba(255,255,255,0.08);
    overflow:hidden; position:relative;}

  .bar{position:absolute; top:0; left:0; right:0; height:56px; display:flex; align-items:center; justify-content:space-between;
    padding:0 clamp(10px,3vw,16px);
    background:linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.02));
    border-bottom:1px solid rgba(255,255,255,0.22); z-index:6;}
  .title{font-weight:700; letter-spacing:.2px; font-size: clamp(16px, 3.8vw, 20px);}
  .actions{display:flex; gap: clamp(6px,2vw,10px)}
  #audioBtn{padding: clamp(8px, 2.6vw, 10px) clamp(12px, 4vw, 16px);
    font-size: clamp(13px, 3.6vw, 15px); background:var(--accent); color:#fff;
    border:none; border-radius:10px; cursor:pointer;}
  #tapHint{display:inline-block; font-size: clamp(11px, 3.2vw, 12px); padding:6px 10px; border-radius:9px; background:rgba(0,0,0,.35)}

  .main{position:absolute; inset:56px 0 0 0; display:grid; grid-auto-rows: minmax(0, auto); grid-template-rows: auto 1fr;}
  @media (min-width: 900px){
    .main{grid-template-columns: 0.95fr 1.05fr; grid-template-rows: 1fr 1fr; gap:0;}
    .section.quiz1{grid-column:1; grid-row:1}
    .section.message{grid-column:1; grid-row:2}
    .section.gallery{grid-column:2; grid-row:1 / span 2}
  }
  .section{position:relative; min-height:0; border-bottom:1px solid rgba(255,255,255,0.16)}
  .section:last-child{border-bottom:none}

  /* Quiz 1 */
  .quiz{position:relative; display:flex; flex-direction:column; align-items:center; text-align:center; padding: clamp(14px, 5vw, 28px); gap: clamp(12px, 3vw, 18px);}
  .quiz h2{margin:6px 0 0; font-size: clamp(22px, 6.6vw, 32px);
    background: linear-gradient(90deg, #fff, var(--accent2), var(--accent));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;}
  .q{font-size: clamp(15px, 4.8vw, 18px); opacity:0.95}
  .btns{display:flex; gap: clamp(10px, 4vw, 16px); margin-top:6px; position:relative}
  .yes,.no{padding: clamp(10px, 3.8vw, 12px) clamp(14px, 6vw, 18px); border-radius:14px;
    border:1px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.10); color:#fff;
    font-size: clamp(14px, 4.2vw, 16px); cursor:pointer; transition: transform .15s ease, background .2s ease, box-shadow .2s ease;
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);}
  .yes:hover{transform:translateY(-1px); background:rgba(255,59,129,0.35); box-shadow:0 10px 24px rgba(255,59,129,0.25)}
  .no.running{position:absolute}
  .seal{font-size: clamp(11px, 3.4vw, 13px); opacity:0.85}
  .success{display:none; flex-direction:column; align-items:center; gap:6px}
  .success.show{display:flex}

  /* Personal message */
  .note{padding: clamp(14px, 4vw, 18px); margin: clamp(8px, 3vw, 14px); border-radius:16px; background: rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.22); font-size: clamp(14px, 4.4vw, 16px); line-height:1.6}
  #message{margin: clamp(10px, 4vw, 16px); font-size: clamp(16px, 4.8vw, 20px)}
  .typewriter span{background:linear-gradient(90deg,var(--accent),var(--accent2),var(--accent3));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;}

  /* Gallery */
  .galleryWrap{position:relative; height: min(58vh, 520px)}
  #slideshow{position:absolute; inset:0; overflow:hidden; opacity:.0; transition:opacity .7s ease; z-index:5; pointer-events:none;}
  #slideshow.show{opacity:1; pointer-events:auto;}
  #slideshow .slide{position:absolute; inset:0; width:100%; height:100%; object-fit:cover; object-position:center; opacity:0; transition:opacity 1s ease}
  #slideshow .slide.active{opacity:1}
  .prev,.next{cursor:pointer; position:absolute; top:50%; transform:translateY(-50%);
    padding:8px 10px; color:white; font-size: clamp(26px, 6.5vw, 34px);
    background:rgba(0,0,0,0.35); border-radius:10px; user-select:none; z-index:6;
    min-width:44px; min-height:44px;}
  .prev{left:10px} .next{right:10px}
  .prev:hover,.next:hover{background:rgba(0,0,0,0.55)}

  .heart{position:absolute;width:18px;height:18px;background:#ff3b81;transform:rotate(45deg);opacity:0.85;z-index:4}
  .heart::before,.heart::after{content:"";position:absolute;width:18px;height:18px;background:#ff3b81;border-radius:50%}
  .heart::before{top:-9px;left:0} .heart::after{left:9px;top:0}
  @keyframes floatHeart{0%{transform:translate(0,0) rotate(45deg);opacity:.9}50%{opacity:1}100%{transform:translate(0,-520px) rotate(45deg);opacity:0}}
</style>
</head>
<body>
<div class="mesh"></div>
<canvas id="bgCanvas" class="bg"></canvas>
<canvas id="confettiCanvas" class="confetti"></canvas>

<div class="wrap">
  <div class="card">
    <div class="bar">
      <div class="title">Happiest birthday Moti üíó</div>
      <div class="actions">
        <button id="audioBtn" aria-pressed="false">Play music</button>
        <span id="tapHint">Tap play if muted</span>
      </div>
    </div>

    <div class="main">
      <!-- Quiz 1: Yes-only -->
      <section class="section quiz1">
        <div class="quiz" id="quiz1">
          <h2>Quick quiz for you ‚ú®</h2>
          <div class="q">Kya tumhe mujhse <span style="color:#ffc1d9">pyaar</span> hai? üòâ</div>
          <div class="btns">
            <button class="yes" id="yesBtn">Yes, always! üíñ</button>
            <button class="no" id="noBtn" aria-disabled="true">No</button>
          </div>
          <div class="seal">No select hi nahi hoga‚Ä¶ destiny says only ‚ÄúYes‚Äù üòÑ</div>
          <div class="success" id="success1">
            <p>Yay! Ab journey gallery! üéâ</p>
          </div>
        </div>
      </section>

      <!-- Personal message -->
      <section class="section message">
        <div class="note">
          <strong>Personal message:</strong>
          <p id="personalNote">
            "Happiest birthDay my jaanu janeman this day is so special for me bcz that day best thing comes on the earth that's you ab main zyada sabdo main to ky khu but my feelings for you is very genuine and you know how much ILove you saf sabdo main khu to YE FAGUNAIYA TU HMAR JAAN HAIN REEE baki to dur hu tuje sirf kiss he de skta huüòòüòòüòòüòò‚ù§Ô∏èüßø"
            
          </p>
        </div>
        <div id="message" class="typewriter"></div>
      </section>

      <!-- Journey Gallery -->
      <section class="section gallery">
        <div class="galleryWrap">
          <div id="slideshow" aria-label="Slideshow">
            <span class="prev" aria-label="Previous">&#10094;</span>
            <span class="next" aria-label="Next">&#10095;</span>
            <img src="pic1.jpg" class="slide active" alt="Slide 1">
            <img src="pic2.jpg" class="slide" alt="Slide 2">
            <img src="pic3.jpg" class="slide" alt="Slide 3">
            <img src="pic4.jpg" class="slide" alt="Slide 4">
            <img src="pic5.jpg" class="slide" alt="Slide 5">
            <img src="pic6.jpg" class="slide" alt="Slide 6">
          </div>
        </div>
      </section>
    </div>

    <!-- Audio -->
    <audio id="myAudio" preload="auto" loop>
      <source src="aud.mp3" type="audio/mpeg">
    </audio>

  </div>
</div>

<script>
/* Background particles (unchanged) */
(function(){
  const canvas = document.getElementById('bgCanvas'), ctx = canvas.getContext('2d');
  let w,h; function resize(){ w=canvas.width=innerWidth; h=canvas.height=innerHeight; }
  addEventListener('resize', resize, {passive:true}); resize();
  const colors=['#ff3b81','#ff7bb3','#ffc1d9','#ffd1e6','#ffffff'];
  const N = innerWidth<480?60:100;
  const dots=Array.from({length:N},()=>({x:Math.random()*w,y:Math.random()*h,r:0.9+Math.random()*1.6,vx:-0.3+Math.random()*0.6,vy:-0.3+Math.random()*0.6,c:colors[(Math.random()*colors.length)|0],a:0.12+Math.random()*0.22}));
  function tick(){
    ctx.clearRect(0,0,w,h);
    for(const d of dots){
      d.x+=d.vx; d.y+=d.vy;
      if(d.x<0)d.x=w; else if(d.x>w)d.x=0;
      if(d.y<0)d.y=h; else if(d.y>h)d.y=0;
      ctx.beginPath(); ctx.arc(d.x,d.y,d.r,0,Math.PI*2);
      ctx.fillStyle=d.c; ctx.globalAlpha=d.a; ctx.fill();
    } ctx.globalAlpha=1; requestAnimationFrame(tick);
  } tick();
})();

/* Confetti (unchanged) */
(function(){
  const canvas = document.getElementById('confettiCanvas');
  const ctx = canvas.getContext('2d');
  let w,h; function resize(){ w=canvas.width=innerWidth; h=canvas.height=innerHeight; }
  addEventListener('resize', resize, {passive:true}); resize();

  let pieces = [];
  function burst(x=w/2, y=h/3){
    const count = 80;
    for(let i=0;i<count;i++){
      pieces.push({
        x, y,
        vx:(Math.random()*2-1)*4,
        vy:(Math.random()*-2-2)*3,
        g:0.12+Math.random()*0.08,
        s:3+Math.random()*3,
        a:1,
        c:['#ff3b81','#ff7bb3','#ffc1d9','#fff'][(Math.random()*4)|0],
        r:Math.random()*Math.PI
      });
    }
  }
  function tick(){
    ctx.clearRect(0,0,w,h);
    pieces = pieces.filter(p=>p.a>0 && p.y < h+20);
    for(const p of pieces){
      p.vy += p.g; p.x += p.vx; p.y += p.vy; p.r += 0.1; p.a -= 0.01 + Math.random()*0.01;
      ctx.save();
      ctx.globalAlpha = Math.max(0,p.a);
      ctx.translate(p.x,p.y);
      ctx.rotate(p.r);
      ctx.fillStyle = p.c;
      ctx.fillRect(-p.s/2,-p.s/2,p.s,p.s*1.4);
      ctx.restore();
    }
    requestAnimationFrame(tick);
  }
  tick();

  window.shootConfettiBurst = () => burst();
})();

/* Quiz 1 ONLY: show slideshow directly on Yes */
(function(){
  const quiz = document.getElementById('quiz1');
  const yes = document.getElementById('yesBtn');
  const no = document.getElementById('noBtn');
  const succ = document.getElementById('success1');

  function moveNo(){
    no.classList.add('running');
    const rect = quiz.getBoundingClientRect();
    const nx = Math.random()*(rect.width-90);
    const ny = Math.random()*(rect.height-50);
    no.style.left = nx+'px';
    no.style.top = ny+'px';
  }
  no.addEventListener('pointerover', moveNo, {passive:true});
  no.addEventListener('pointerdown', moveNo, {passive:true});
  no.addEventListener('click', e=> e.preventDefault());

  function openGallery(){
    if(succ){ succ.classList.add('show'); succ.style.display='flex'; }
    if(typeof window.shootConfettiBurst === 'function') window.shootConfettiBurst();
    setTimeout(()=>{
      const ss = document.getElementById('slideshow');
      if(ss){ ss.classList.add('show'); }
      // Hide quiz section completely so it can't intercept taps
      const q1 = document.getElementById('quiz1');
      if(q1){ q1.style.display='none'; q1.setAttribute('inert',''); q1.setAttribute('aria-hidden','true'); }
    }, 500);
  }

  yes.addEventListener('click', openGallery, {passive:true});
  yes.addEventListener('pointerup', openGallery, {passive:true});
})();

/* Typewriter (unchanged) */
(function(){
  const el = document.getElementById('message');
  const lines = [
    "Happy Birthday, Kuku! üíó",
    "Aankho ki chamak palko ki shan ho tum", 
    "Chehre hi hasi lamho ki muskan ho tum",
    "Dhadakta hai dil bas tumhari arzu mai", 
    "Fir kaise na kahu, Meri jaan ho tum",

@thel creatorr
  ];
  const speed=34, hold=1400;
  let iLine=0, iChar=0;
  function typeLine(){
    if(iLine>=lines.length) return;
    const text = lines[iLine];
    const visible = text.slice(0,iChar);
    el.innerHTML = `<span>${visible}</span>`;
    if(iChar<text.length){ iChar++; setTimeout(typeLine, speed); }
    else { iLine++; iChar=0; setTimeout(typeLine, hold); }
  } typeLine();
})();

/* Slideshow (unchanged) */
(function(){
  const slides = Array.from(document.querySelectorAll('#slideshow .slide'));
  const prevBtn = document.querySelector('#slideshow .prev');
  const nextBtn = document.querySelector('#slideshow .next');
  let idx=0, timer=null, AUTO=4200;

  function show(i){
    slides[idx].classList.remove('active');
    idx=(i+slides.length)%slides.length;
    slides[idx].classList.add('active');
  }
  function next(){ show(idx+1); pauseAuto(); }
  function prev(){ show(idx-1); pauseAuto(); }

  function startAuto(){ stopAuto(); timer=setInterval(()=>show(idx+1), AUTO); }
  function stopAuto(){ if(timer){ clearInterval(timer); timer=null; } }
  function pauseAuto(){ stopAuto(); startAuto(); }

  prevBtn.addEventListener('click', prev, {passive:true});
  nextBtn.addEventListener('click', next, {passive:true});
  startAuto();
})();

/* Audio toggle (unchanged) */
(function(){
  const audio = document.getElementById('myAudio');
  const btn = document.getElementById('audioBtn');
  const hint = document.getElementById('tapHint');
  let playing = false;

  function updateUI(){
    btn.textContent = playing ? 'Pause music' : 'Play music';
    btn.setAttribute('aria-pressed', String(playing));
    hint.style.display = playing ? 'none' : 'inline-block';
  }

  btn.addEventListener('click', async ()=>{
    try{
      if(!playing){
        await audio.play();
        playing = true;
      }else{
        audio.pause();
        playing = false;
      }
    }catch(e){
      playing = false;
      console.warn('Playback blocked until user gesture', e);
    }finally{
      updateUI();
    }
  }, {passive:true});

  audio.muted = false;
  audio.loop = true;
  updateUI();
})();
</script>
</body>
</html>
